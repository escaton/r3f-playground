{"version":3,"sources":["shaders.ts","App.tsx","index.tsx"],"names":["snoise","rgb","args","Gradient","meshRef","useRef","j","t","x","Math","random","vCheck","useFrame","_","delta","material","Array","isArray","current","uniforms","u_randomisePosition","value","u_time","rotation","z","useMemo","u_bg","type","u_bgMain","u_color1","u_color2","ref","position","scale","fragmentShader","shaders","vertexShader","App","appRef","useState","setIsFS","useEffect","onFullscreenChange","document","fullscreenElement","addEventListener","undefined","requestFullscreen","removeEventListener","className","onClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"oNAAaA,EAAM,yxC,eCSbC,EAAM,sCAAmBC,EAAnB,yBAAmBA,EAAnB,uBAAsCA,GA6ClD,IAAMC,EAAe,WACjB,IAAMC,EAAUC,iBAAa,MAEvBC,EAAID,iBAAO,GACXE,EAAIF,iBAAO,GACXG,EAAIH,iBAAuB,GAAhBI,KAAKC,UAEhBC,GADIN,iBAAuB,GAAhBI,KAAKC,UACPL,kBAAO,IAEtBO,aAAS,SAACC,EAAGC,GACT,IAAMC,EAAWC,MAAMC,QAAQb,EAAQc,QAAQH,UACxCX,EAAQc,QAAQH,SAAS,GACzBX,EAAQc,QAAQH,SACvBA,EAASI,SAASC,oBAAoBC,MAAQ,CAACf,EAAEY,QAASZ,EAAEY,SAC5DH,EAASI,SAASG,OAAOD,MAAQd,EAAEW,QAMnCd,EAAQc,QAAQK,SAASC,EAAI,GAAKjB,EAAEW,QAAU,GAG9CZ,EAAEY,SAAmB,GAARJ,EAEbP,EAAEW,SAAmB,EAARJ,EAETP,EAAEW,QAAU,KAAQ,KACG,IAAnBP,EAAOO,SACPV,EAAEU,SAAW,EACTV,EAAEU,SAAW,IACbP,EAAOO,SAAU,KAGrBV,EAAEU,SAAW,EACTV,EAAEU,SAAW,KACbP,EAAOO,SAAU,QAMjC,IAAMC,EAAWM,mBACb,iBAAO,CACHC,KAAM,CAAEC,KAAM,KAAMN,MAAOpB,EAAI,GAAM,GAAM,MAC3C2B,SAAU,CAAED,KAAM,KAAMN,MAAOpB,EAAI,IAAM,IAAM,KAC/C4B,SAAU,CAAEF,KAAM,KAAMN,MAAOpB,EAAI,IAAM,IAAM,IAE/C6B,SAAU,CAAEH,KAAM,KAAMN,MAAOpB,EAAI,GAAM,IAAM,MAC/CqB,OAAQ,CAAEK,KAAM,IAAKN,MAAO,GAC5BD,oBAAqB,CACjBO,KAAM,KACNN,MAAO,CAAC,EAAG,OAGnB,IAGJ,OACI,uBACIU,IAAK3B,EACL4B,SAAU,CAAC,EAAG,GAAI,KAClBC,MAAO,CAAC,EAAG,EAAG,GACdV,SAAU,CAAC,EAAG,EAAG,GAJrB,UAMI,+BAAerB,KAAM,CAAC,IAAK,IAAK,IAAK,OACrC,gCACIiB,SAAUA,EACVe,eAAgBC,EDnEX,o9BCoELC,aAAcD,EDxFX,yeC8FJE,EAtHf,WACI,IAAMC,EAASjC,iBAAuB,MAD3B,EAMakC,oBAAS,GANtB,mBAMEC,GANF,WA0BX,OAlBAC,qBAAU,WACN,IAAMC,EAAqB,WACvBF,IAAUG,SAASC,oBASvB,OAPAD,SAASE,iBAAiB,mBAAoBH,GAC9CA,SAEyCI,IAArCR,EAAOpB,QAAQ6B,mBACfP,GAAQ,GAGL,kBACHG,SAASK,oBACL,mBACAN,MAET,IAGC,sBAAKO,UAAU,MAAMlB,IAAKO,EAA1B,UACI,cAAC,IAAD,UACI,cAAC,EAAD,MASJ,qBAAKW,UAAU,OAAOC,QApCd,WACZZ,EAAOpB,QAAQ6B,2BCTvBI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFV,SAASW,eAAe,W","file":"static/js/main.3c77d91d.chunk.js","sourcesContent":["export const snoise = `\nvec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n\nfloat snoise(vec2 v) {\n    const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                        0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                        -0.577350269189626,  // -1.0 + 2.0 * C.x\n                        0.024390243902439); // 1.0 / 41.0\n    vec2 i  = floor(v + dot(v, C.yy) );\n    vec2 x0 = v -   i + dot(i, C.xx);\n    vec2 i1;\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n    i = mod289(i); // Avoid truncation effects in permutation\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n    m = m*m ;\n    m = m*m ;\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n}\n`;\n\nexport const vertex = `\nuniform float u_time;\nuniform vec2 u_randomisePosition;\n\nvarying float vDistortion;\nvarying float xDistortion;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vDistortion = snoise(vUv.xx * 3. - u_randomisePosition * 0.15);\n    xDistortion = snoise(vUv.yy * 1. - u_randomisePosition * 0.05);\n    vec3 pos = position;\n    pos.z += (vDistortion * 35.);\n    pos.x += (xDistortion * 25.);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}\n`\n\nexport const fragment = `\nvec3 rgb(float r, float g, float b) {\n    return vec3(r / 255., g / 255., b / 255.);\n}\n\nvec3 rgb(float c) {\n    return vec3(c / 255., c / 255., c / 255.);\n}\n\nuniform vec3 u_bg;\nuniform vec3 u_bgMain;\nuniform vec3 u_color1;\nuniform vec3 u_color2;\nuniform float u_time;\n\nvarying vec2 vUv;\nvarying float vDistortion;\n\nvoid main() {\n    vec3 bg = rgb(u_bg.r, u_bg.g, u_bg.b);\n    vec3 c1 = rgb(u_color1.r, u_color1.g, u_color1.b);\n    vec3 c2 = rgb(u_color2.r, u_color2.g, u_color2.b);\n    vec3 bgMain = rgb(u_bgMain.r, u_bgMain.g, u_bgMain.b);\n\n    float noise1 = snoise(vUv + u_time * 0.08);\n    float noise2 = snoise(vUv * 2. + u_time * 0.1);\n\n    vec3 color = bg;\n    color = mix(color, c1, noise1 * 0.6);\n    color = mix(color, c2, noise2 * .4);\n    color = mix(color, mix(c1, c2, vUv.x), vDistortion);\n\n    float border = smoothstep(0.1, 0.6, vUv.x);\n\n    color = mix(color, bgMain, 1. -border);\n\n    gl_FragColor = vec4(color, 1.0);\n}\n`","import { FC, useEffect, useMemo, useRef, useState } from 'react';\nimport { Canvas, useFrame } from 'react-three-fiber';\nimport { Mesh, ShaderMaterial } from 'three';\n\nimport { R, G, B } from './utils';\nimport * as shaders from './shaders';\n\nimport './App.css';\n\nconst rgb = <T extends any>(...args: T[]): T[] => args;\n\nfunction App() {\n    const appRef = useRef<HTMLDivElement>(null!);\n    const onClick = () => {\n        appRef.current.requestFullscreen();\n    };\n\n    const [isFS, setIsFS] = useState(false);\n\n    useEffect(() => {\n        const onFullscreenChange = () => {\n            setIsFS(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', onFullscreenChange);\n        onFullscreenChange();\n\n        if (appRef.current.requestFullscreen === undefined) {\n            setIsFS(true);\n        }\n\n        return () =>\n            document.removeEventListener(\n                'fullscreenchange',\n                onFullscreenChange\n            );\n    }, []);\n\n    return (\n        <div className=\"App\" ref={appRef}>\n            <Canvas>\n                <Gradient />\n            </Canvas>\n            {/* <div\n                className=\"go-to-fs\"\n                style={{ opacity: isFS ? 0 : 0.5 }}\n                onClick={onClick}\n            >\n                fullscreen\n            </div> */}\n            <div className=\"plus\" onClick={onClick}/>\n        </div>\n    );\n}\n\nconst Gradient: FC = () => {\n    const meshRef = useRef<Mesh>(null!);\n\n    const j = useRef(0);\n    const t = useRef(0);\n    const x = useRef(Math.random() * 32);\n    const y = useRef(Math.random() * 32);\n    const vCheck = useRef(false);\n\n    useFrame((_, delta) => {\n        const material = Array.isArray(meshRef.current.material)\n            ? (meshRef.current.material[0] as ShaderMaterial)\n            : (meshRef.current.material as ShaderMaterial);\n        material.uniforms.u_randomisePosition.value = [j.current, j.current];\n        material.uniforms.u_time.value = t.current;\n        // material.uniforms.u_color1.value = [\n        //     R(x.current, y.current, t.current / 2),\n        //     G(x.current, y.current, t.current / 2),\n        //     B(x.current, y.current, t.current / 2),\n        // ];\n        meshRef.current.rotation.z = 6 + -t.current / 60;\n\n        // j.current += 0.01;\n        j.current += delta * 0.7;\n        // t.current += 0.05;\n        t.current += delta * 3;\n\n        if (t.current % 0.1 === 0) {\n            if (vCheck.current === false) {\n                x.current -= 1;\n                if (x.current <= 0) {\n                    vCheck.current = true;\n                }\n            } else {\n                x.current += 1;\n                if (x.current >= 32) {\n                    vCheck.current = false;\n                }\n            }\n        }\n    });\n\n    const uniforms = useMemo(\n        () => ({\n            u_bg: { type: 'v3', value: rgb(0x42, 0x33, 0xfe) },\n            u_bgMain: { type: 'v3', value: rgb(0xec, 0xa6, 0x4e) },\n            u_color1: { type: 'v3', value: rgb(0xff, 0xcc, 0) },\n            // u_color2: { type: 'v3', value: rgb(0xff, 0x65, 0x01) },\n            u_color2: { type: 'v3', value: rgb(0x48, 0xcc, 0xe0) },\n            u_time: { type: 'f', value: 0 },\n            u_randomisePosition: {\n                type: 'v2',\n                value: [1, 2],\n            },\n        }),\n        []\n    );\n\n    return (\n        <mesh\n            ref={meshRef}\n            position={[0, 0, -280]}\n            scale={[3, 3, 3]}\n            rotation={[0, 0, 0]}\n        >\n            <planeGeometry args={[400, 400, 100, 100]} />\n            <shaderMaterial\n                uniforms={uniforms}\n                fragmentShader={shaders.snoise + shaders.fragment}\n                vertexShader={shaders.snoise + shaders.vertex}\n            ></shaderMaterial>\n        </mesh>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}