{"version":3,"sources":["shaders.ts","App.tsx","index.tsx"],"names":["snoise","rgb","args","R","x","y","t","Math","floor","cos","G","sin","B","Gradient","meshRef","useRef","j","random","vCheck","useFrame","material","Array","isArray","current","uniforms","u_randomisePosition","value","u_time","u_color1","rotation","z","useMemo","u_bg","type","u_bgMain","u_color2","ref","position","scale","fragmentShader","shaders","vertexShader","App","className","onClick","currentTarget","requestFullscreen","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2MAAaA,EAAM,yxC,eCQbC,EAAM,sCAAmBC,EAAnB,yBAAmBA,EAAnB,uBAAsCA,GAI9CC,EAAa,SAAUC,EAAGC,EAAGC,GAC7B,OAAOC,KAAKC,MAAM,IAAM,GAAKD,KAAKE,KAAKL,EAAIA,EAAIC,EAAIA,GAAK,IAAMC,KAG9DI,EAAa,SAAUN,EAAGC,EAAGC,GAC7B,OAAOC,KAAKC,MACR,IACI,GACID,KAAKI,KACAP,EAAIA,EAAIG,KAAKE,IAAIH,EAAI,GAAKD,EAAIA,EAAIE,KAAKI,IAAIL,EAAI,IAAM,OAKtEM,EAAa,SAAUR,EAAGC,EAAGC,GAC7B,OAAOC,KAAKC,MACR,IACI,GACID,KAAKI,IACD,EAAIJ,KAAKI,IAAIL,EAAI,KACXF,EAAI,MAAQA,EAAI,MAAQC,EAAI,MAAQA,EAAI,MAAQ,QAkB1E,IAAMQ,EAAe,WACjB,IAAMC,EAAUC,iBAAa,MAEvBC,EAAID,iBAAO,GACXT,EAAIS,iBAAO,GACXX,EAAIW,iBAAuB,GAAhBR,KAAKU,UAChBZ,EAAIU,iBAAuB,GAAhBR,KAAKU,UAChBC,EAASH,kBAAO,GAEtBI,aAAS,WACL,IAAMC,EAAWC,MAAMC,QAAQR,EAAQS,QAAQH,UACxCN,EAAQS,QAAQH,SAAS,GACzBN,EAAQS,QAAQH,SACvBA,EAASI,SAASC,oBAAoBC,MAAQ,CAACV,EAAEO,QAASP,EAAEO,SAC5DH,EAASI,SAASG,OAAOD,MAAQpB,EAAEiB,QACnCH,EAASI,SAASI,SAASF,MAAQ,CAC/BvB,EAAEC,EAAEmB,QAASlB,EAAEkB,QAASjB,EAAEiB,QAAU,GACpCb,EAAEN,EAAEmB,QAASlB,EAAEkB,QAASjB,EAAEiB,QAAU,GACpCX,EAAER,EAAEmB,QAASlB,EAAEkB,QAASjB,EAAEiB,QAAU,IAExCT,EAAQS,QAAQM,SAASC,GAAKxB,EAAEiB,QAAQ,GAExCP,EAAEO,SAAW,IACbjB,EAAEiB,SAAW,IAETjB,EAAEiB,QAAU,KAAQ,KACG,IAAnBL,EAAOK,SACPnB,EAAEmB,SAAW,EACTnB,EAAEmB,SAAW,IACbL,EAAOK,SAAU,KAGrBnB,EAAEmB,SAAW,EACTnB,EAAEmB,SAAW,KACbL,EAAOK,SAAU,QAMjC,IAAMC,EAAWO,mBACb,iBAAO,CACHC,KAAM,CAAEC,KAAM,KAAMP,MAAOzB,EAAI,IAAK,IAAK,MACzCiC,SAAU,CAAED,KAAM,KAAMP,MAAOzB,EAAI,IAAK,IAAK,MAC7C2B,SAAU,CAAEK,KAAM,KAAMP,MAAOzB,EAAI,IAAK,IAAK,MAC7CkC,SAAU,CAAEF,KAAM,KAAMP,MAAOzB,EAAI,GAAI,GAAI,MAC3C0B,OAAQ,CAAEM,KAAM,IAAKP,MAAO,GAC5BD,oBAAqB,CACjBQ,KAAM,KACNP,MAAO,CAAC,EAAG,OAGnB,IAGJ,OACI,uBACIU,IAAKtB,EACLuB,SAAU,CAAC,EAAG,GAAI,KAClBC,MAAO,CAAC,EAAG,EAAG,GACdT,SAAU,CAAC,EAAG,EAAG,GAJrB,UAMI,+BAAe3B,KAAM,CAAC,IAAK,IAAK,IAAK,OACrC,gCAOIsB,SAAUA,EACVe,eAAgBC,EDlEX,o9BCmELC,aAAcD,EDvFX,yeC8HJE,EA5Hf,WAII,OACI,qBAAKC,UAAU,MAAMC,QAJT,SAAC,GAAgD,EAA/CC,cACAC,qBAGd,SACI,cAAC,IAAD,UACI,cAAC,EAAD,SCvChBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.6251cac2.chunk.js","sourcesContent":["export const snoise = `\nvec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n\nfloat snoise(vec2 v) {\n    const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                        0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                        -0.577350269189626,  // -1.0 + 2.0 * C.x\n                        0.024390243902439); // 1.0 / 41.0\n    vec2 i  = floor(v + dot(v, C.yy) );\n    vec2 x0 = v -   i + dot(i, C.xx);\n    vec2 i1;\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n    i = mod289(i); // Avoid truncation effects in permutation\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n    m = m*m ;\n    m = m*m ;\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n}\n`;\n\nexport const vertex = `\nuniform float u_time;\nuniform vec2 u_randomisePosition;\n\nvarying float vDistortion;\nvarying float xDistortion;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vDistortion = snoise(vUv.xx * 3. - u_randomisePosition * 0.15);\n    xDistortion = snoise(vUv.yy * 1. - u_randomisePosition * 0.05);\n    vec3 pos = position;\n    pos.z += (vDistortion * 35.);\n    pos.x += (xDistortion * 25.);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}\n`\n\nexport const fragment = `\nvec3 rgb(float r, float g, float b) {\n    return vec3(r / 255., g / 255., b / 255.);\n}\n\nvec3 rgb(float c) {\n    return vec3(c / 255., c / 255., c / 255.);\n}\n\nuniform vec3 u_bg;\nuniform vec3 u_bgMain;\nuniform vec3 u_color1;\nuniform vec3 u_color2;\nuniform float u_time;\n\nvarying vec2 vUv;\nvarying float vDistortion;\n\nvoid main() {\n    vec3 bg = rgb(u_bg.r, u_bg.g, u_bg.b);\n    vec3 c1 = rgb(u_color1.r, u_color1.g, u_color1.b);\n    vec3 c2 = rgb(u_color2.r, u_color2.g, u_color2.b);\n    vec3 bgMain = rgb(u_bgMain.r, u_bgMain.g, u_bgMain.b);\n\n    float noise1 = snoise(vUv + u_time * 0.08);\n    float noise2 = snoise(vUv * 2. + u_time * 0.1);\n\n    vec3 color = bg;\n    color = mix(color, c1, noise1 * 0.6);\n    color = mix(color, c2, noise2 * .4);\n    color = mix(color, mix(c1, c2, vUv.x), vDistortion);\n\n    float border = smoothstep(0.1, 0.6, vUv.x);\n\n    color = mix(color, bgMain, 1. -border);\n\n    gl_FragColor = vec4(color, 1.0);\n}\n`","import { FC, MouseEvent, useMemo, useRef, useState } from 'react';\nimport { Canvas, MeshProps, useFrame } from 'react-three-fiber';\nimport { mergeUniforms, Mesh, ShaderMaterial } from 'three';\n\nimport * as shaders from './shaders';\n\nimport './App.css';\n\nconst rgb = <T extends any>(...args: T[]): T[] => args;\n\ntype RGBFunc = (x: number, y: number, t: number) => number;\n\nvar R: RGBFunc = function (x, y, t) {\n    return Math.floor(192 + 64 * Math.cos((x * x - y * y) / 300 + t));\n};\n\nvar G: RGBFunc = function (x, y, t) {\n    return Math.floor(\n        192 +\n            64 *\n                Math.sin(\n                    (x * x * Math.cos(t / 4) + y * y * Math.sin(t / 3)) / 300\n                )\n    );\n};\n\nvar B: RGBFunc = function (x, y, t) {\n    return Math.floor(\n        192 +\n            64 *\n                Math.sin(\n                    5 * Math.sin(t / 9) +\n                        ((x - 100) * (x - 100) + (y - 100) * (y - 100)) / 1100\n                )\n    );\n};\n\nfunction App() {\n    const onClick = ({currentTarget}: MouseEvent<HTMLDivElement>) => {\n        currentTarget.requestFullscreen();\n    }\n    return (\n        <div className=\"App\" onClick={onClick}>\n            <Canvas>\n                <Gradient />\n            </Canvas>\n        </div>\n    );\n}\n\nconst Gradient: FC = () => {\n    const meshRef = useRef<Mesh>(null!);\n\n    const j = useRef(0);\n    const t = useRef(0);\n    const x = useRef(Math.random() * 32);\n    const y = useRef(Math.random() * 32);\n    const vCheck = useRef(false);\n\n    useFrame(() => {\n        const material = Array.isArray(meshRef.current.material)\n            ? (meshRef.current.material[0] as ShaderMaterial)\n            : (meshRef.current.material as ShaderMaterial);\n        material.uniforms.u_randomisePosition.value = [j.current, j.current];\n        material.uniforms.u_time.value = t.current;\n        material.uniforms.u_color1.value = [\n            R(x.current, y.current, t.current / 2),\n            G(x.current, y.current, t.current / 2),\n            B(x.current, y.current, t.current / 2),\n        ];\n        meshRef.current.rotation.z = -t.current/60;\n\n        j.current += 0.01;\n        t.current += 0.05;\n\n        if (t.current % 0.1 === 0) {\n            if (vCheck.current === false) {\n                x.current -= 1;\n                if (x.current <= 0) {\n                    vCheck.current = true;\n                }\n            } else {\n                x.current += 1;\n                if (x.current >= 32) {\n                    vCheck.current = false;\n                }\n            }\n        }\n    });\n\n    const uniforms = useMemo(\n        () => ({\n            u_bg: { type: 'v3', value: rgb(162, 138, 241) },\n            u_bgMain: { type: 'v3', value: rgb(162, 138, 241) },\n            u_color1: { type: 'v3', value: rgb(162, 138, 241) },\n            u_color2: { type: 'v3', value: rgb(82, 31, 241) },\n            u_time: { type: 'f', value: 0 },\n            u_randomisePosition: {\n                type: 'v2',\n                value: [1, 2],\n            },\n        }),\n        []\n    );\n\n    return (\n        <mesh\n            ref={meshRef}\n            position={[0, 0, -280]}\n            scale={[4, 4, 4]}\n            rotation={[0, 0, 1]}\n        >\n            <planeGeometry args={[400, 400, 100, 100]} />\n            <shaderMaterial\n                // uniforms-u_bg-value={[162, 138, 241]}\n                // uniforms-u_bgMain-value={[162, 138, 241]}\n                // uniforms-u_color1-value={[162, 138, 241]}\n                // uniforms-u_color2-value={[82, 31, 241]}\n                // uniforms-u_time-value={0}\n                // uniforms-u_randomisePosition-value={[1,2]}\n                uniforms={uniforms}\n                fragmentShader={shaders.snoise + shaders.fragment}\n                vertexShader={shaders.snoise + shaders.vertex}\n            ></shaderMaterial>\n        </mesh>\n    );\n};\n\n// const Box: FC<Partial<MeshProps>> = (props) => {\n//     // This reference will give us direct access to the mesh\n//     const mesh = useRef<Mesh>(null!);\n\n//     // Set up state for the hovered and active state\n//     const [hovered, setHover] = useState(false);\n//     const [active, setActive] = useState(false);\n\n//     // Rotate mesh every frame, this is outside of React without overhead\n\n//     const rotationSpeed = Math.PI;\n\n//     useFrame((_, delta) => {\n//         const rotate = delta*rotationSpeed;\n//         // console.log(delta, rotate)\n//         mesh.current.rotation.x = mesh.current.rotation.y += hovered ? rotate/2 : rotate;\n//     });\n\n//     return (\n//         <mesh\n//             {...props}\n//             ref={mesh}\n//             scale={active ? [1.5, 1.5, 1.5] : [1, 1, 1]}\n//             onClick={(event) => setActive(!active)}\n//             onPointerOver={(event) => setHover(true)}\n//             onPointerOut={(event) => setHover(false)}\n//         >\n//             <boxBufferGeometry args={[1, 1, 1]} />\n//             <meshStandardMaterial color={hovered ? 'hotpink' : 'orange'} />\n//         </mesh>\n//     );\n// };\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}